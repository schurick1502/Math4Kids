import{r as e,j as t,c as r,R as a}from"./react-vendor-CjztfW3Z.js";import{G as s,U as l,a as n,Z as o,S as i,D as c,X as d,b as m,T as x,P as u,F as h,c as p,A as g}from"./icons-CU30Yo-H.js";import"./vendor-Db9aRYuG.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const f=[{person:"Mom",reward:"Dinner at McDonalds",rank:1},{person:"Dad",reward:"Go to the movies",rank:2},{person:"Grandma",reward:"Ice cream",rank:3},{person:"Parents",reward:"30 min extra screen time",rank:4},{person:"Mom",reward:"Candy",rank:5}],b=["Do 10 funny jumping jacks","Sing your favorite song","Tell a joke","Do 5 push-ups","Dance for 30 seconds","Make a funny face","Hop 20 times on one leg","Stand on one leg for 1 minute","Do 3 somersaults"],v=()=>{const e=navigator.userAgent,t=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e),r=navigator.hardwareConcurrency||2,a=navigator.deviceMemory||4,s=navigator.connection||navigator.mozConnection||navigator.webkitConnection,l=(null==s?void 0:s.effectiveType)||"4g";return{isVeryLowEnd:t&&(r<=2||a<=2||"2g"===l||"slow-2g"===l),isLowEnd:t&&(r<=4||a<=4),isMobile:t}},j=e.memo(()=>{const r=e.useMemo(()=>v(),[]),a=e.useMemo(()=>(()=>{const e=v();if(e.isVeryLowEnd)return[];const t=["âž•","âž–","âœ–ï¸","âž—","ðŸŸ°","ðŸŽ¯","â­","âœ¨","ðŸŒŸ","ðŸ’«"],r=["text-yellow-300","text-pink-300","text-blue-300","text-purple-300","text-green-300"],a=e.isLowEnd?4:8;return Array.from({length:a},(e,a)=>({left:100*Math.random(),top:100*Math.random(),fontSize:1.2*Math.random()+.8,delay:5*Math.random(),duration:15*Math.random()+20,symbol:t[Math.floor(Math.random()*t.length)],color:r[a%r.length]}))})(),[]),s=r.isVeryLowEnd?"blur-lg":r.isLowEnd?"blur-xl":"blur-2xl",l=r.isVeryLowEnd?.3:r.isLowEnd?.5:.6,n=!r.isVeryLowEnd;return t.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[n&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:`absolute top-0 left-0 w-96 h-96 bg-purple-400 rounded-full mix-blend-multiply filter ${s} animate-blob`,style:{opacity:l,willChange:"transform"}}),!r.isLowEnd&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:`absolute top-0 right-0 w-96 h-96 bg-pink-400 rounded-full mix-blend-multiply filter ${s} animate-blob animation-delay-2000`,style:{opacity:l,willChange:"transform"}}),t.jsx("div",{className:`absolute bottom-0 left-1/2 w-96 h-96 bg-blue-400 rounded-full mix-blend-multiply filter ${s} animate-blob animation-delay-4000`,style:{opacity:l,willChange:"transform"}})]})]}),a.map((e,r)=>t.jsx("div",{className:`absolute ${e.color} animate-float`,style:{left:`${e.left}%`,top:`${e.top}%`,fontSize:`${e.fontSize}rem`,animationDelay:`${e.delay}s`,animationDuration:`${e.duration}s`,opacity:.3,willChange:"transform"},children:e.symbol},r))]})});function y(){const[r,a]=e.useState("menu"),[v,y]=e.useState(1),[N,w]=e.useState(null),[M,S]=e.useState(""),[k,T]=e.useState(1),[P,C]=e.useState(0),[R,D]=e.useState(null),[I,O]=e.useState(!1),[$,E]=e.useState(null),[Q,L]=e.useState(null),[A,G]=e.useState(0),[q,z]=e.useState(null),[F,B]=e.useState(10),[J,V]=e.useState(!1),[W,K]=e.useState({name:"",level:1}),[Y,H]=e.useState({name:"",level:1}),[U,Z]=e.useState(1),[X,_]=e.useState(0),[ee,te]=e.useState(0),[re,ae]=e.useState(0),[se,le]=e.useState(0),[ne,oe]=e.useState(!1),[ie,ce]=e.useState(5),[de,me]=e.useState([]),[xe,ue]=e.useState([]),[he,pe]=e.useState(""),[ge,fe]=e.useState(""),[be,ve]=e.useState(3),[je,ye]=e.useState(""),[Ne,we]=e.useState(null),[Me,Se]=e.useState(!1),ke=e.useRef(null),Te={1:{name:"Grade 1",range:10,ops:["+","-"],description:"Addition and subtraction up to 10",color:"green-400",targetTimePerQuestion:15},2:{name:"Grade 2",range:20,ops:["+","-"],description:"Addition and subtraction up to 20",color:"blue-400",targetTimePerQuestion:12},3:{name:"Times Tables",range:12,ops:["Ã—"],description:"Multiplication tables (1-12)",color:"orange-500",targetTimePerQuestion:8,special:"1x1"},4:{name:"Grade 3",range:100,ops:["+","-","Ã—"],description:"Add, subtract up to 100",color:"yellow-400",targetTimePerQuestion:10},5:{name:"Grade 4",range:1e3,ops:["+","-","Ã—","Ã·"],description:"All operations up to 1000",color:"red-400",targetTimePerQuestion:8},6:{name:"Adults",range:1e4,ops:["+","-","Ã—","Ã·","%","rule-of-three"],description:"Math + Percent + Rule of Three",color:"purple-600",targetTimePerQuestion:10,special:"adults"}},Pe=e.useCallback((e,t,r,a)=>{const s=e/t*100,l=t*a,n=r/t;let o=100;if(r>l){const e=r-l;o=Math.max(0,100-e/l*50)}else{const e=l-r;o=Math.min(150,100+e/l*50)}const i=.7*s+.3*o;let c=5;return c=i>=95?1:i>=85?2:i>=75?3:i>=65?4:5,{accuracyScore:Math.round(s),timeScore:Math.round(o),overallScore:Math.round(i),performanceRank:c,avgTimePerQuestion:n.toFixed(1),targetTime:l}},[]),Ce=e=>{try{localStorage.setItem("rewards",JSON.stringify(e)),me(e)}catch(t){}},Re=e=>{try{localStorage.setItem("penalties",JSON.stringify(e)),ue(e)}catch(t){}},De=e.useCallback(e=>{const t=Te[e],r=t.ops[Math.floor(Math.random()*t.ops.length)];let a,s,l,n;if(3===e)return a=Math.floor(12*Math.random())+1,s=Math.floor(12*Math.random())+1,l=a*s,{num1:a,num2:s,operation:"Ã—",answer:l};if(6===e&&("%"===r||"rule-of-three"===r)){if("%"===r){const e=[5,10,15,20,25,30,40,50,75][Math.floor(9*Math.random())],t=[10,20,50,80,100,120,150,200,250][Math.floor(9*Math.random())];return l=Math.round(e/100*t),n=`${e}% of ${t}`,{questionText:n,answer:l,operation:"%",isSpecial:!0}}{const e=Math.floor(5*Math.random())+2,t=(Math.floor(8*Math.random())+1)*e,r=Math.floor(8*Math.random())+3;return l=Math.round(t/e*r),n=`${e} items = $${t}, ${r} items`,{questionText:n,answer:l,operation:"rule-of-three",isSpecial:!0}}}if("+"===r){if(e<=2)a=Math.floor(Math.random()*t.range)+1,s=Math.floor(Math.random()*(t.range-a))+1;else for(a=Math.floor(Math.random()*t.range)+1,s=Math.floor(Math.random()*t.range)+1;a+s>t.range;)s=Math.floor(Math.random()*t.range)+1;l=a+s}else if("-"===r)a=Math.floor(Math.random()*t.range)+1,s=Math.floor(Math.random()*a)+1,l=a-s;else if("Ã—"===r)4===e?(a=Math.floor(10*Math.random())+1,s=Math.floor(10*Math.random())+1):5===e?(a=Math.floor(12*Math.random())+1,s=Math.floor(12*Math.random())+1):6===e?(a=Math.floor(99*Math.random())+1,s=Math.floor(99*Math.random())+1):(a=Math.floor(12*Math.random())+1,s=Math.floor(12*Math.random())+1),l=a*s;else if("Ã·"===r){if(6===e){const e=Math.floor(20*Math.random())+2;a=e*(Math.floor(50*Math.random())+1),s=e}else{const e=Math.floor(12*Math.random())+1;a=e*(Math.floor(12*Math.random())+1),s=e}l=a/s}return{num1:a,num2:s,operation:r,answer:l}},[]),Ie=e=>{if(null==e||e.preventDefault(),I||!M)return;const t=(Date.now()-q)/1e3;parseInt(M)===N.answer?(J?1===U?(_(X+1),ae(re+t)):(te(ee+1),le(se+t)):C(P+1),D({type:"correct",time:t})):(J&&(1===U?ae(re+t):le(se+t)),D({type:"wrong",correctAnswer:N.answer,time:t})),O(!0),setTimeout(()=>{Oe()},1500)},Oe=()=>{if(O(!1),D(null),S(""),J){Z(1===U?2:1);const e=k;if(e>=2*F)return void Ee();T(e+1),oe(!0),ce(5),a("handover")}else{if(k>=F)return void Ee();T(k+1),w(De(v)),z(Date.now())}},$e=()=>{a("menu"),V(!1),T(1),C(0),_(0),te(0),ae(0),le(0),Z(1),O(!1),D(null)},Ee=()=>{const e=(Date.now()-Q)/1e3;if(J){const e=Te[W.level],t=Te[Y.level],r=Pe(X,F,re,e.targetTimePerQuestion),a=Pe(ee,F,se,t.targetTimePerQuestion);E({isMultiplayer:!0,player1:{name:W.name,score:X,total:F,time:re,performance:r},player2:{name:Y.name,score:ee,total:F,time:se,performance:a},winner:r.overallScore>a.overallScore?W.name:a.overallScore>r.overallScore?Y.name:"Tie"})}else{const t=Pe(P,F,e,Te[v].targetTimePerQuestion);let r=null;if(t.performanceRank<=3&&de.length>0){const e=de.filter(e=>e.rank===t.performanceRank);r=e.length>0?e[Math.floor(Math.random()*e.length)]:[...de].sort((e,t)=>e.rank-t.rank)[0]}else t.performanceRank>3&&xe.length>0&&(r=xe[Math.floor(Math.random()*xe.length)]);E({isMultiplayer:!1,score:P,total:F,time:e,performance:t,selectedRewardOrPenalty:r})}a("finished")};e.useEffect(()=>{(()=>{try{const e=localStorage.getItem("rewards"),t=localStorage.getItem("penalties"),r=localStorage.getItem("numberOfQuestions");e?me(JSON.parse(e)):(me(f),localStorage.setItem("rewards",JSON.stringify(f))),t?ue(JSON.parse(t)):(ue(b),localStorage.setItem("penalties",JSON.stringify(b))),r&&B(parseInt(r))}catch(e){me(f),ue(b)}})();const e=e=>{e.preventDefault(),we(e),Se(!0)};return window.addEventListener("beforeinstallprompt",e),()=>{window.removeEventListener("beforeinstallprompt",e)}},[]),e.useEffect(()=>{if("handover"!==r)return;const e=setInterval(()=>{ce(e=>{if(e<=1){const e=1===U?W.level:Y.level;return y(e),w(De(e)),oe(!1),a("playing"),z(Date.now()),5}return e-1})},1e3);return()=>clearInterval(e)},[r,U,W.level,Y.level,De]),e.useEffect(()=>{"playing"===r&&!I&&ke.current&&ke.current.focus()},[r,I,k]);const Qe=e.useCallback(e=>`${Math.floor(e/60)}:${Math.floor(e%60).toString().padStart(2,"0")}`,[]),Le=e.useCallback(e=>{const t={1:{text:"Outstanding",color:"text-yellow-600",emoji:"ðŸ†"},2:{text:"Very Good",color:"text-green-600",emoji:"ðŸ¥ˆ"},3:{text:"Good",color:"text-blue-600",emoji:"ðŸ¥‰"},4:{text:"Satisfactory",color:"text-orange-600",emoji:"â­"},5:{text:"Keep Practicing",color:"text-gray-600",emoji:"ðŸ’ª"}};return t[e]||t[5]},[]),Ae=e.useCallback(e=>{const t={1:"ðŸ† Top Prize",2:"ðŸ¥ˆ Great Reward",3:"ðŸ¥‰ Nice Reward",4:"â­ Small Reward",5:"ðŸ’ª Keep Trying"};return t[e]||t[5]},[]),Ge=e.useMemo(()=>{const e=J?Te[1===U?W.level:Y.level]:Te[v],t=J?2*F:F;return{settings:e,totalQuestions:t,progress:k/t*100,currentPlayerName:J?1===U?W.name:Y.name:null,currentScore:J?1===U?X:ee:P,elapsedTime:J?1===U?re:se:Q?(Date.now()-Q)/1e3:0}},[J,U,W,Y,v,F,k,X,ee,P,re,se,Q]);return t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-400 via-pink-400 to-blue-400 flex items-center justify-center p-4 relative overflow-hidden",children:[t.jsx(j,{}),t.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 max-w-2xl w-full max-h-screen overflow-y-auto relative z-10",children:["menu"===r&&t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"flex items-center justify-center mb-6",children:[t.jsx(s,{className:"w-16 h-16 text-purple-600 mr-3"}),t.jsx("h1",{className:"text-5xl font-bold text-purple-600",children:"Mental Math Fun!"})]}),t.jsx("p",{className:"text-gray-600 mb-8 text-lg",children:"Speed + Accuracy = Better Rewards! ðŸŽ¯â±ï¸"}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-4",children:"ðŸŽ® Choose Game Mode"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[t.jsxs("button",{onClick:()=>a("menu"),className:"bg-blue-500 hover:scale-105 transform transition-all duration-200 text-white rounded-2xl p-6 shadow-lg hover:shadow-xl",children:[t.jsx(l,{className:"w-12 h-12 mx-auto mb-2"}),t.jsx("div",{className:"text-2xl font-bold",children:"Single Player"}),t.jsx("div",{className:"text-sm opacity-90 mt-1",children:"Time Challenge"})]}),t.jsxs("button",{onClick:()=>{a("multiplayer-setup"),K({name:"",level:1}),H({name:"",level:1})},className:"bg-green-500 hover:scale-105 transform transition-all duration-200 text-white rounded-2xl p-6 shadow-lg hover:shadow-xl",children:[t.jsx(n,{className:"w-12 h-12 mx-auto mb-2"}),t.jsx("div",{className:"text-2xl font-bold",children:"Multiplayer"}),t.jsx("div",{className:"text-sm opacity-90 mt-1",children:"Who's faster?"})]})]})]}),t.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"ðŸ“š Difficulty Level (Single Player)"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:Object.entries(Te).map(([e,r])=>t.jsxs("button",{onClick:()=>{return t=parseInt(e),y(t),a("playing"),V(!1),T(1),C(0),w(De(t)),S(""),O(!1),D(null),L(Date.now()),z(Date.now()),void G(0);var t},className:"hover:scale-105 transform transition-all duration-200 text-white rounded-2xl p-6 shadow-lg hover:shadow-xl",style:{backgroundColor:"green-400"===r.color?"#4ade80":"blue-400"===r.color?"#60a5fa":"orange-500"===r.color?"#f97316":"yellow-400"===r.color?"#facc15":"red-400"===r.color?"#f87171":"purple-600"===r.color?"#9333ea":"#60a5fa"},children:[t.jsx("div",{className:"text-3xl font-bold mb-2",children:r.name}),t.jsx("div",{className:"text-sm opacity-90",children:r.description}),t.jsxs("div",{className:"mt-3 flex items-center justify-center text-sm",children:[t.jsx(o,{className:"w-4 h-4 mr-1"}),"Target: ",r.targetTimePerQuestion,"s per question"]})]},e))}),t.jsxs("div",{className:"flex justify-center gap-4",children:[t.jsxs("button",{onClick:()=>a("settings"),className:"flex items-center gap-2 bg-gray-200 hover:bg-gray-300 text-gray-800 px-6 py-3 rounded-xl transition-colors duration-200",children:[t.jsx(i,{className:"w-5 h-5"}),"Settings"]}),Me&&t.jsxs("button",{onClick:async()=>{if(!Ne)return;Ne.prompt();const{outcome:e}=await Ne.userChoice;we(null),Se(!1)},className:"flex items-center gap-2 bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-xl transition-colors duration-200",children:[t.jsx(c,{className:"w-5 h-5"}),"Install App"]})]})]}),"multiplayer-setup"===r&&t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"ðŸŽ® Multiplayer Setup"}),t.jsx("button",{onClick:()=>a("menu"),className:"text-gray-600 hover:text-gray-800",children:t.jsx(d,{className:"w-8 h-8"})})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-blue-50 p-6 rounded-2xl",children:[t.jsx("h3",{className:"text-2xl font-bold text-blue-700 mb-4",children:"ðŸ‘¤ Player 1"}),t.jsx("input",{type:"text",value:W.name,onChange:e=>K({...W,name:e.target.value}),placeholder:"Enter name",className:"w-full border-2 border-blue-300 rounded-lg px-4 py-3 mb-4 text-lg focus:outline-none focus:border-blue-500"}),t.jsx("select",{value:W.level,onChange:e=>K({...W,level:parseInt(e.target.value)}),className:"w-full border-2 border-blue-300 rounded-lg px-4 py-3 text-lg focus:outline-none focus:border-blue-500",children:Object.entries(Te).map(([e,r])=>t.jsxs("option",{value:e,children:[r.name," - ",r.description]},e))})]}),t.jsxs("div",{className:"bg-green-50 p-6 rounded-2xl",children:[t.jsx("h3",{className:"text-2xl font-bold text-green-700 mb-4",children:"ðŸ‘¤ Player 2"}),t.jsx("input",{type:"text",value:Y.name,onChange:e=>H({...Y,name:e.target.value}),placeholder:"Enter name",className:"w-full border-2 border-green-300 rounded-lg px-4 py-3 mb-4 text-lg focus:outline-none focus:border-green-500"}),t.jsx("select",{value:Y.level,onChange:e=>H({...Y,level:parseInt(e.target.value)}),className:"w-full border-2 border-green-300 rounded-lg px-4 py-3 text-lg focus:outline-none focus:border-green-500",children:Object.entries(Te).map(([e,r])=>t.jsxs("option",{value:e,children:[r.name," - ",r.description]},e))})]})]}),t.jsx("button",{onClick:()=>{if(!W.name||!Y.name)return void alert("Please enter names for both players!");V(!0),Z(1),T(1),_(0),te(0),ae(0),le(0);const e=W.level;y(e),w(De(e)),S(""),O(!1),D(null),L(Date.now()),z(Date.now()),a("playing")},className:"w-full mt-6 bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white text-2xl font-bold py-4 rounded-2xl transition-all duration-200 hover:scale-105",children:"ðŸŽ® Start Game!"})]}),"playing"===r&&(()=>{const{settings:e,totalQuestions:r,progress:a,currentPlayerName:s,currentScore:l,elapsedTime:n}=Ge;return t.jsxs("div",{children:[t.jsx("div",{className:"flex justify-end mb-4",children:t.jsxs("button",{onClick:$e,className:"flex items-center gap-2 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-xl transition-colors duration-200 shadow-md hover:shadow-lg",title:"Cancel game",children:[t.jsx(d,{className:"w-5 h-5"}),"Cancel"]})}),J&&t.jsx("div",{className:"mb-4 bg-gradient-to-r from-blue-100 to-green-100 p-4 rounded-2xl",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:1===U?"font-bold text-blue-700":"text-gray-600",children:["ðŸ‘¤ ",W.name,": ",X," (",Qe(re),")"]}),t.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[s,"'s turn!"]}),t.jsxs("div",{className:2===U?"font-bold text-green-700":"text-gray-600",children:["ðŸ‘¤ ",Y.name,": ",ee," (",Qe(se),")"]})]})}),t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsxs("div",{className:"text-lg font-bold text-gray-700",children:["â±ï¸ Time: ",Qe(n)]}),t.jsxs("div",{className:"text-lg font-bold text-purple-600",children:["Target: ",e.targetTimePerQuestion,"s/question"]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[t.jsxs("span",{children:["Question ",k," of ",r]}),t.jsxs("span",{children:[l," correct"]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:t.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 h-full transition-all duration-300",style:{width:`${a}%`}})})]}),N&&t.jsxs("div",{className:"text-center mb-8",children:[N.isSpecial?t.jsxs("div",{children:[t.jsx("div",{className:"text-4xl font-bold text-gray-800 mb-4",children:"%"===N.operation?"ðŸ“Š Percentage":"ðŸ”¢ Rule of Three"}),t.jsx("div",{className:"text-5xl font-bold text-purple-600 mb-8",children:N.questionText}),"rule-of-three"===N.operation&&t.jsx("div",{className:"text-2xl text-gray-600 mb-6",children:"= $ ?"})]}):t.jsxs("div",{className:"text-7xl font-bold text-gray-800 mb-8",children:[N.num1," ",N.operation," ",N.num2," = ?"]}),t.jsxs("form",{onSubmit:Ie,className:"max-w-md mx-auto",children:[t.jsx("input",{ref:ke,type:"number",value:M,onChange:e=>S(e.target.value),disabled:I,className:"w-full text-4xl text-center border-4 border-purple-300 rounded-2xl px-4 py-4 mb-4 focus:outline-none focus:border-purple-500 disabled:bg-gray-100",placeholder:"?",autoComplete:"off"}),t.jsx("button",{type:"submit",disabled:I||!M,className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white text-2xl font-bold py-4 rounded-2xl transition-all duration-200 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:"Submit"})]})]}),I&&R&&t.jsxs("div",{className:"text-center p-6 rounded-2xl "+("correct"===R.type?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:[t.jsx("div",{className:"text-4xl mb-2",children:"correct"===R.type?"âœ… Correct!":"âŒ Wrong!"}),t.jsxs("div",{className:"text-xl mb-2",children:["Time: ",R.time.toFixed(1),"s"]}),"correct"!==R.type&&t.jsxs("div",{className:"text-2xl",children:["The correct answer is: ",t.jsx("strong",{children:R.correctAnswer})]})]})]})})(),"handover"===r&&(()=>{const e=1===U?W:Y;return t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx(n,{className:"w-24 h-24 text-purple-600 mx-auto mb-4 animate-bounce"}),t.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Pass the Device!"}),t.jsxs("p",{className:"text-2xl text-gray-600 mb-6",children:["Next player: ",t.jsx("span",{className:"font-bold text-purple-600",children:e.name})]})]}),t.jsxs("div",{className:"bg-purple-100 rounded-3xl p-12 mb-6",children:[t.jsx("div",{className:"text-8xl font-bold text-purple-600 mb-4",children:ie}),t.jsx("p",{className:"text-xl text-gray-700",children:"seconds until next question..."})]}),t.jsxs("div",{className:"text-lg text-gray-600",children:["Level: ",t.jsx("span",{className:"font-bold",children:Te[e.level].name})]})]})})(),"settings"===r&&t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Settings"}),t.jsx("button",{onClick:()=>a("menu"),className:"text-gray-600 hover:text-gray-800",children:t.jsx(d,{className:"w-8 h-8"})})]}),t.jsxs("div",{className:"mb-8",children:[t.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-4",children:"ðŸŽ¯ Number of Questions"}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("input",{type:"number",min:"5",max:"50",value:F,onChange:e=>(e=>{try{localStorage.setItem("numberOfQuestions",e.toString()),B(e)}catch(t){}})(parseInt(e.target.value)||10),className:"w-32 border-2 border-gray-300 rounded-lg px-4 py-2 text-lg focus:outline-none focus:border-purple-500"}),t.jsx("span",{className:"text-gray-600",children:"questions per round"})]})]}),t.jsxs("div",{className:"mb-8",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx(m,{className:"w-6 h-6 text-green-600"}),t.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Rewards with Ranking"})]}),t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Rank 1 = Top Prize (best performance), Rank 5 = Smallest Reward"}),t.jsx("div",{className:"space-y-2 mb-4 max-h-60 overflow-y-auto",children:de.sort((e,t)=>e.rank-t.rank).map((e,r)=>t.jsxs("div",{className:"flex items-center justify-between bg-green-50 p-3 rounded-xl",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"text-2xl",children:Ae(e.rank).split(" ")[0]}),t.jsxs("div",{children:[t.jsxs("div",{className:"font-bold text-green-700",children:[e.person,": ",e.reward]}),t.jsx("div",{className:"text-xs text-gray-600",children:Ae(e.rank)})]})]}),t.jsx("button",{onClick:()=>(e=>{const t=de.filter((t,r)=>r!==e);Ce(t)})(de.indexOf(e)),className:"text-red-500 hover:text-red-700",children:t.jsx(x,{className:"w-5 h-5"})})]},r))}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("input",{type:"text",value:he,onChange:e=>pe(e.target.value),placeholder:"Person (e.g., Mom)",className:"w-full border-2 border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:border-green-500"}),t.jsx("input",{type:"text",value:ge,onChange:e=>fe(e.target.value),placeholder:"Reward (e.g., Ice cream)",className:"w-full border-2 border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:border-green-500"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("label",{className:"text-gray-700 font-semibold",children:"Rank:"}),t.jsxs("select",{value:be,onChange:e=>ve(parseInt(e.target.value)),className:"flex-1 border-2 border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:border-green-500",children:[t.jsx("option",{value:1,children:"1 - Top Prize ðŸ†"}),t.jsx("option",{value:2,children:"2 - Great Reward ðŸ¥ˆ"}),t.jsx("option",{value:3,children:"3 - Nice Reward ðŸ¥‰"}),t.jsx("option",{value:4,children:"4 - Small Reward â­"}),t.jsx("option",{value:5,children:"5 - Mini Reward ðŸ’ª"})]})]}),t.jsxs("button",{onClick:()=>{if(he.trim()&&ge.trim()){const e=[...de,{person:he.trim(),reward:ge.trim(),rank:be}];Ce(e),pe(""),fe(""),ve(3)}},className:"w-full flex items-center justify-center gap-2 bg-green-500 hover:bg-green-600 text-white py-2 rounded-lg transition-colors duration-200",children:[t.jsx(u,{className:"w-5 h-5"}),"Add Reward"]})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx(h,{className:"w-6 h-6 text-orange-600"}),t.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Tasks for Weak Performance"})]}),t.jsx("div",{className:"space-y-2 mb-4 max-h-60 overflow-y-auto",children:xe.map((e,r)=>t.jsxs("div",{className:"flex items-center justify-between bg-orange-50 p-3 rounded-xl",children:[t.jsx("span",{className:"text-gray-700",children:e}),t.jsx("button",{onClick:()=>(e=>{const t=xe.filter((t,r)=>r!==e);Re(t)})(r),className:"text-red-500 hover:text-red-700",children:t.jsx(x,{className:"w-5 h-5"})})]},r))}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("input",{type:"text",value:je,onChange:e=>ye(e.target.value),placeholder:"New task",className:"w-full border-2 border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:border-orange-500"}),t.jsxs("button",{onClick:()=>{if(je.trim()){const e=[...xe,je.trim()];Re(e),ye("")}},className:"w-full flex items-center justify-center gap-2 bg-orange-500 hover:bg-orange-600 text-white py-2 rounded-lg transition-colors duration-200",children:[t.jsx(u,{className:"w-5 h-5"}),"Add Task"]})]})]})]}),"finished"===r&&(()=>{if($.isMultiplayer){const e=Le($.player1.performance.performanceRank),r=Le($.player2.performance.performanceRank);return t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx(p,{className:"w-24 h-24 text-yellow-500 mx-auto mb-4 animate-bounce"}),t.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-6",children:"ðŸŽ® Game Over!"})]}),t.jsxs("div",{className:"space-y-4 mb-6",children:[t.jsxs("div",{className:"p-6 rounded-2xl bg-gradient-to-br from-blue-50 to-blue-100 border-2 border-blue-300",children:[t.jsxs("div",{className:"text-2xl font-bold mb-2",children:["ðŸ‘¤ ",$.player1.name]}),t.jsxs("div",{className:"text-5xl font-bold text-purple-600 mb-2",children:[$.player1.performance.overallScore," Points"]}),t.jsxs("div",{className:"text-lg mb-2",children:[$.player1.score," of ",$.player1.total," correct"]}),t.jsxs("div",{className:"text-lg mb-2",children:["Time: ",Qe($.player1.time)," (avg ",$.player1.performance.avgTimePerQuestion,"s)"]}),t.jsxs("div",{className:`text-xl font-bold ${e.color}`,children:[e.emoji," ",e.text]})]}),t.jsxs("div",{className:"p-6 rounded-2xl bg-gradient-to-br from-green-50 to-green-100 border-2 border-green-300",children:[t.jsxs("div",{className:"text-2xl font-bold mb-2",children:["ðŸ‘¤ ",$.player2.name]}),t.jsxs("div",{className:"text-5xl font-bold text-purple-600 mb-2",children:[$.player2.performance.overallScore," Points"]}),t.jsxs("div",{className:"text-lg mb-2",children:[$.player2.score," of ",$.player2.total," correct"]}),t.jsxs("div",{className:"text-lg mb-2",children:["Time: ",Qe($.player2.time)," (avg ",$.player2.performance.avgTimePerQuestion,"s)"]}),t.jsxs("div",{className:`text-xl font-bold ${r.color}`,children:[r.emoji," ",r.text]})]})]}),t.jsx("div",{className:"bg-yellow-100 p-6 rounded-2xl mb-6",children:t.jsx("div",{className:"text-3xl font-bold text-yellow-800",children:"Tie"===$.winner?"ðŸ¤ It's a Tie!":`ðŸ† ${$.winner} wins!`})}),t.jsx("button",{onClick:()=>a("menu"),className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white text-2xl font-bold py-4 px-8 rounded-2xl transition-all duration-200 hover:scale-105",children:"Back to Main Menu"})]})}const e=Le($.performance.performanceRank);return t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx(g,{className:"w-24 h-24 text-yellow-500 mx-auto mb-4 animate-bounce"}),t.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Well Done! ðŸŽ‰"}),t.jsxs("div",{className:"bg-gradient-to-br from-purple-100 to-pink-100 p-6 rounded-2xl mb-4",children:[t.jsx("div",{className:"text-6xl font-bold text-purple-600 mb-2",children:$.performance.overallScore}),t.jsx("div",{className:"text-xl text-gray-700",children:"Total Points"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[t.jsxs("div",{className:"bg-green-100 p-4 rounded-xl",children:[t.jsxs("div",{className:"text-3xl font-bold text-green-700",children:[$.performance.accuracyScore,"%"]}),t.jsx("div",{className:"text-sm text-gray-600",children:"Accuracy"}),t.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[$.score," of ",$.total]})]}),t.jsxs("div",{className:"bg-blue-100 p-4 rounded-xl",children:[t.jsx("div",{className:"text-3xl font-bold text-blue-700",children:$.performance.timeScore}),t.jsx("div",{className:"text-sm text-gray-600",children:"Speed"}),t.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["avg ",$.performance.avgTimePerQuestion,"s"]})]})]}),t.jsxs("div",{className:"bg-gray-100 p-4 rounded-xl mb-6",children:[t.jsxs("div",{className:"text-lg text-gray-600 mb-2",children:["Total time: ",t.jsx("strong",{children:Qe($.time)})]}),t.jsxs("div",{className:"text-sm text-gray-500",children:["Target was: ",Qe($.performance.targetTime)]})]}),t.jsxs("div",{className:"p-6 rounded-2xl mb-6 "+($.performance.performanceRank<=3?"bg-gradient-to-br from-yellow-100 to-orange-100":"bg-orange-100"),children:[t.jsxs("div",{className:`text-3xl font-bold mb-3 ${e.color}`,children:[e.emoji," ",e.text]}),$.selectedRewardOrPenalty&&t.jsx("div",{className:"text-xl mt-4",children:$.performance.performanceRank<=3?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"font-bold mb-2",children:"ðŸŽ Your Reward:"}),t.jsxs("div",{children:[t.jsx("span",{className:"font-bold text-green-700",children:$.selectedRewardOrPenalty.person}),": ",t.jsx("span",{className:"text-gray-700",children:$.selectedRewardOrPenalty.reward})]}),t.jsx("div",{className:"text-sm text-gray-600 mt-2",children:Ae($.selectedRewardOrPenalty.rank)})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"font-bold mb-2",children:"ðŸŽ¯ Your Task:"}),t.jsx("div",{className:"text-gray-700",children:$.selectedRewardOrPenalty}),t.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"You'll do better next time! ðŸ’ª"})]})})]}),t.jsx("button",{onClick:()=>a("menu"),className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white text-2xl font-bold py-4 px-8 rounded-2xl transition-all duration-200 hover:scale-105",children:"Back to Main Menu"})]})})()]})]})}j.displayName="AnimatedBackground","serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(e=>{}).catch(e=>{})}),r.createRoot(document.getElementById("root")).render(t.jsx(a.StrictMode,{children:t.jsx(y,{})}));